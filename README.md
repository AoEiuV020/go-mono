# Go Mono - Golang 多模块项目示例

这是一个演示 Golang 多模块单体仓库（Monorepo）的项目，展示了不同编译方式对可执行文件大小的影响。

## 项目结构

```
go-mono/
├── packages/              # 库模块目录
│   ├── common/           # 通用库（日志、工具函数）
│   ├── mathlib/          # 数学计算库
│   └── stringlib/        # 字符串处理库
├── apps/                 # 应用模块目录
│   ├── static-app/       # 标准编译版本
│   └── dynamic-app/      # 精简编译版本
├── scripts/              # 构建脚本
│   └── build.sh          # 自动化构建脚本
├── md/                   # 项目文档
│   ├── 项目结构说明.md   # 详细的项目结构和功能说明
│   └── 构建测试总结.md   # 编译测试结果和技术总结
└── build/                # 编译输出目录（自动生成）
```

## 快速开始

### 1. 编译项目

```bash
./scripts/build.sh
```

编译脚本会：
- 清理之前的构建产物
- 编译标准版本应用（包含调试信息）
- 编译精简版本应用（去除调试信息）
- 生成运行脚本
- 显示文件大小对比

### 2. 运行应用

**运行标准编译版本:**
```bash
./build/static/run.sh
```

**运行精简编译版本:**
```bash
./build/dynamic/run.sh
```

两个版本的功能完全相同，输出结果一致。

## 编译结果对比

| 版本 | 编译选项 | 文件大小 | 说明 |
|------|----------|----------|------|
| 标准版本 | `go build` | 2.3 MB | 包含完整调试信息和符号表 |
| 精简版本 | `go build -ldflags="-s -w"` | 1.6 MB | 去除调试信息，减小 32.57% |

## 功能特性

### 库模块

- **common**: 提供日志记录和基础工具函数
- **mathlib**: 提供数学计算功能（加法、乘法、阶乘、求最大值）
- **stringlib**: 提供字符串处理功能（反转、连接、大写转换、单词计数）

### 应用功能

两个应用执行相同的操作：
- 数学运算：加法、乘法、阶乘、求最大值
- 字符串处理：反转、连接、大写转换、单词统计
- 带时间戳的日志输出
- 结果摘要展示

## 技术文档

详细的技术文档位于 `md/` 目录：

- **[项目结构说明.md](md/项目结构说明.md)**: 详细介绍各个模块的功能和依赖关系
- **[构建测试总结.md](md/构建测试总结.md)**: 编译测试结果、性能对比和技术分析

## 主要亮点

1. **模块化设计**: 清晰的模块划分和依赖关系
2. **编译优化**: 展示不同编译选项的实际效果
3. **自动化构建**: 一键完成所有编译和配置
4. **详细文档**: 完整的技术说明和使用建议
5. **实战经验**: 提供生产环境和开发环境的最佳实践

## 学习要点

通过这个项目，你可以学习到：

- Go 多模块项目的组织方式
- Go Modules 的依赖管理
- 不同编译选项的影响
- 静态链接 vs 精简编译的取舍
- 生产环境的编译优化建议

## 环境要求

- Go 1.21 或更高版本
- macOS / Linux / Windows
- Bash Shell（用于运行构建脚本）

## 许可证

查看 [LICENSE](LICENSE) 文件了解详情。

---

**项目创建日期**: 2025年11月23日  
**作者**: AoEiuV020
测试golang多模块项目，
